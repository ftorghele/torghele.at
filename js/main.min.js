$(function(){function e(){function B(){s=12;o=150;u=150;f=0;c=9;h=Math.pow(2,c)+1;d=2;_=Math.PI*2*h/(1+h);T=-o;N=n+o;C=i/2-50;k=i/2+50;M=.67*Math.PI*2;stepsPerSegment=Math.floor(800/s);P=100;H=20;D=.25;m="#000000";y="#333333";w=1;I();$(window).bind("resize",F)}function F(){$("#headergen").attr("width",window.innerWidth+"px");$("#headergen").attr("height",window.innerHeight+"px");I()}function I(){v=0;t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,n,i);R();S=q(c);O=0;if(p){clearInterval(p)}p=setInterval(U,1e3/60)}function q(e){var t,n,i;var s,o,u;var f,l,c;var h;var p;var d;var v,m;var y=32;var w=.5;s=255;o=102;u=0;t=193;n=59;i=0;a=D;var E=z(e);p=[];m=E.length;for(v=0;v<m;v++){h=E[v];r=Math.floor(t+h*(s-t));g=Math.floor(n+h*(o-n));b=Math.floor(i+h*(u-i));var S="rgba("+r+","+g+","+b+","+a+")";p.push(S)}return p}function R(){var e;var t,n,r,i;var a;l=[];for(e=0;e<s;e++){maxR=u+Math.random()*(o-u);minR=f*maxR;var h={centerX:T+e/(s-1)*(N-T),centerY:C+e/(s-1)*(k-C),maxRad:maxR,minRad:minR,phase:e/(s-1)*M,pointArray:z(c)};l.push(h)}}function U(){var e;var n,r;var i;var s=l.length;var o;var u;var a,f;var c=.75;var v,m;var g,y,b;var E,x,T;for(var N=0;N<d;N++){i=O/(h-1)*_;t.globalCompositeOperation="lighter";t.lineJoin="miter";t.strokeStyle=S[O];t.lineWidth=w;t.beginPath();a=l[0].centerX;f=l[0].centerY;g=l[0].minRad+l[0].pointArray[O]*(l[0].maxRad-l[0].minRad);E=l[0].phase;v=a+c*g*Math.cos(i+E);m=f+g*Math.sin(i+E);t.moveTo(v,m);for(e=0;e<s-1;e++){y=l[e].minRad+l[e].pointArray[O]*(l[e].maxRad-l[e].minRad);b=l[e+1].minRad+l[e+1].pointArray[O]*(l[e+1].maxRad-l[e+1].minRad);x=l[e].phase;T=l[e+1].phase;for(j=0;j<stepsPerSegment;j++){o=j/(stepsPerSegment-1);u=.5-.5*Math.cos(o*Math.PI);a=l[e].centerX+o*(l[e+1].centerX-l[e].centerX);f=l[e].centerY+u*(l[e+1].centerY-l[e].centerY);g=y+u*(b-y);E=x+u*(T-x);v=a+c*g*Math.cos(i+E);m=f+g*Math.sin(i+E);t.lineTo(v,m)}}t.stroke();O++;if(O>h-1){clearInterval(p);p=null;break}}}function z(e){var t={};var n=[];t.first={x:0,y:1};var r={x:1,y:1};var i=1;var s=1;var o;var u;var a,f,l;var c;var h=.5;t.first.next=r;for(var p=0;p<e;p++){o=t.first;while(o.next!=null){u=o.next;a=u.x-o.x;f=.5*(o.x+u.x);l=.5*(o.y+u.y);l+=a*(Math.random()*2-1);var d={x:f,y:l};if(l<i){i=l}else if(l>s){s=l}d.next=u;o.next=d;o=u}}if(s!=i){var v=1/(s-i);o=t.first;while(o!=null){o.y=v*(o.y-i);n.push(o.y);o=o.next}}else{o=t.first;while(o!=null){o.y=1;n.push(o.y);o=o.next}}return n}if(!Modernizr.canvas){return}$("#headergen").attr("width",window.innerWidth+"px");$("#headergen").attr("height",window.innerHeight+"px");var e=document.getElementById("headergen");var t=e.getContext("2d");var n=e.width;var i=e.height;var s;var o;var u;var f;var l;var c;var h;var p;var d;var v;var m,y;var w;var E;var S;var x;var T,N,C,k;var L,A;var O;var M;var _;var D;var P;var H;B()}function t(){e();$(".js-remove").remove();$(".js-hidden").attr("class","js-show");$("#contact-form-submit").click(function(){$("#contact-form-msg").html("");$("#contact-form-msg").attr("class","");$("#contact-form-submit").html('sending message <img src="img/load.gif" title="loading.."/>');$.post("send.php",$("#contact-form").serialize(),function(e){if(e==="success"){$("#contact-form-msg").attr("class","success");$("#contact-form-msg").html('<i class="icon-ok-sign"></i> Thank you for your message!')}else{$("#contact-form-msg").attr("class","error");if(e==="no_name"){$("#contact-form-msg").html('<i class="icon-bolt"></i> Please enter your name to send this message!')}else if(e==="no_mail"){$("#contact-form-msg").html('<i class="icon-bolt"></i> Please enter an valid email address to send this message!')}else if(e==="no_subject"){$("#contact-form-msg").html('<i class="icon-bolt"></i> Please enter a subject to send this message!')}else if(e==="no_message"){$("#contact-form-msg").html('<i class="icon-bolt"></i> Please enter a message!')}}$("#contact-form-submit").html('send message <i class="icon-circle-arrow-right"></i>')});return false});$("#menu li:first").attr("class","active");$("#menu-mobile ul").remove();["top","about","work","contact"].forEach(function(e,t){$("."+e).click(function(t){$("html, body").stop().animate({scrollTop:$("#"+e).offset().top-38},500);t.preventDefault()})});var t,n=$("#menu"),r=n.outerHeight(),i=n.find("a"),s=i.map(function(){var e=$($(this).attr("href"));if(e.length){return e}});$(window).scroll(function(){var e=$(this).scrollTop()+r;var n=s.map(function(){if($(this).offset().top<e)return this});n=n[n.length-1];var o=n&&n.length?n[0].id:"";if(t!==o){t=o;i.parent().removeClass("active").end().filter("[href=#"+o+"]").parent().addClass("active")}})}window.onload=t}())